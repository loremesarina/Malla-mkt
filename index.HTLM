<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Interactiva – Comunicación y Marketing (UPC)</title>
<style>
  :root{
    --bg:#0b0c10; --panel:#111319; --card:#171a23; --muted:#a7b0c0; --text:#e7ecf3;
    --accent:#8ec5ff; --ok:#22c55e; --warn:#fbbf24; --lock:#ef4444; --chip:#243044;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,#0b0c10,#0e1016 60%,#0b0c10);color:var(--text)}
  header{position:sticky;top:0;z-index:15;background:rgba(11,12,16,.85);backdrop-filter:blur(6px);border-bottom:1px solid #1f2430}
  .wrap{max-width:1280px;margin:0 auto;padding:14px 18px}
  h1{font-size:20px;margin:0 0 6px}
  .sub{font-size:12px;color:var(--muted)}
  .bar{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  button,select,input[type="number"],input[type="text"],textarea{background:#1a1f2b;color:var(--text);border:1px solid #283144;border-radius:10px;padding:8px 10px}
  button{cursor:pointer} button:hover{border-color:#3a4a66}
  textarea{width:100%;min-height:120px}
  main{max-width:1280px;margin:0 auto;padding:20px;display:grid;grid-template-columns:320px 1fr;gap:18px}
  @media(max-width:980px){main{grid-template-columns:1fr}}
  .panel{background:#10131b;border:1px solid #1f2430;border-radius:16px;padding:14px}
  .section-title{font-size:13px;color:#9fb2d1;margin:4px 0 10px}
  .grid{display:grid;gap:16px;grid-template-columns:repeat(5,1fr)}
  @media (max-width:1100px){.grid{grid-template-columns:repeat(3,1fr)}}
  @media (max-width:700px){.grid{grid-template-columns:repeat(2,1fr)}}
  .col{background:#0f1219;border:1px solid #1f2430;border-radius:16px;overflow:hidden}
  .col h2{margin:0;padding:10px 12px;border-bottom:1px solid #1f2430;font-size:14px;color:#b7c4da;display:flex;justify-content:space-between}
  .list{padding:12px;display:flex;flex-direction:column;gap:10px}
  .card{position:relative;background:#171a23;border:1px solid #22283a;border-radius:14px;padding:10px;cursor:pointer}
  .card:hover{border-color:#2b3650}
  .course-title{font-weight:600;font-size:14px;line-height:1.25}
  .course-code{font-size:11px;color:var(--muted);margin-top:2px}
  .chips{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
  .chip{font-size:10px;background:var(--chip);color:#cfe3ff;border:1px solid #2e3c55;padding:2px 6px;border-radius:999px}
  .state{position:absolute;top:8px;right:8px;font-size:10px;padding:2px 6px;border-radius:999px;border:1px solid #2b2f3d}
  .state.approved{background:rgba(34,197,94,.15);color:#86efac;border-color:rgba(34,197,94,.35)}
  .state.available{background:rgba(251,191,36,.12);color:#fde68a;border-color:rgba(251,191,36,.35)}
  .state.locked{background:rgba(239,68,68,.12);color:#fca5a5;border-color:rgba(239,68,68,.35)}
  .tooltip{position:absolute;inset:auto auto 100% 0;transform:translateY(-6px);background:#10131b;border:1px solid #2a3143;color:#dbe7ff;font-size:12px;border-radius:10px;padding:8px;min-width:220px;box-shadow:0 8px 20px rgba(0,0,0,.35);display:none;z-index:5}
  .card.show-tip .tooltip{display:block}
  .pill{display:inline-flex;gap:6px;align-items:center;background:#121722;border:1px solid #243148;border-radius:999px;padding:6px 10px;font-size:12px;color:#c9daf6}
  .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .stats{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
  .stat{background:#0f121a;border:1px solid #1e2330;border-radius:14px;padding:8px 10px;display:flex;gap:6px;align-items:center}
  .dot{width:10px;height:10px;border-radius:50%}
  .ok{background:var(--ok)} .av{background:var(--warn)} .lk{background:var(--lock)}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <h1>Malla Interactiva – Comunicación y Marketing (UPC)</h1>
    <div class="sub" id="programInfoLabel">Facultad de Comunicaciones • 200 créditos • Rectificado 15/12/2024</div>
    <div class="bar">
      <button id="btnExport">Exportar progreso</button>
      <input type="file" id="fileImport" accept="application/json" style="display:none"/>
      <button id="btnImport">Importar progreso</button>
      <select id="filter">
        <option value="all">Ver: Todos</option>
        <option value="approved">Solo aprobados</option>
        <option value="available">Solo disponibles</option>
        <option value="locked">Solo bloqueados</option>
      </select>
      <button id="btnReset">Reiniciar estados</button>
    </div>
    <div class="stats">
      <div class="stat"><span class="dot ok"></span><span id="stA">Aprobados: 0</span></div>
      <div class="stat"><span class="dot av"></span><span id="stD">Disponibles: 0</span></div>
      <div class="stat"><span class="dot lk"></span><span id="stB">Bloqueados: 0</span></div>
      <div class="stat"><span>Créditos aprobados: <b id="stCr">0</b></span></div>
      <div class="stat"><span>Total créditos: <b id="stCt">200</b></span></div>
    </div>
  </div>
</header>

<main>
  <!-- Panel izquierdo de configuración/importación -->
  <div class="panel">
    <div class="section-title">Estructura de la malla</div>
    <div class="row">
      <label>Ciclos: <input type="number" id="cfgCycles" min="1" max="12" value="10"></label>
      <label>Total créditos: <input type="number" id="cfgTotalCredits" value="200"></label>
    </div>
    <div class="section-title">Materias y requisitos</div>
    <div class="row" style="gap:6px">
      <button id="btnLoadDefault">Cargar malla UPC (por defecto)</button>
    </div>
    <small class="sub">Puedes importar tu propia malla en JSON (desde el PDF ya convertido) o pegarla aquí.</small>
    <textarea id="jsonArea" placeholder='Pega aquí tu JSON con {"courses":[...], "rules":{...}}'></textarea>
    <div class="row">
      <button id="btnApplyJSON">Aplicar JSON pegado</button>
      <input type="file" id="fileData" accept="application/json" style="display:none"/>
      <button id="btnLoadJSON">Importar JSON de malla</button>
    </div>

    <div class="section-title" style="margin-top:14px">Configuración de colores</div>
    <div class="row">
      <label>Fondo <input type="color" id="colBg" value="#0b0c10"></label>
      <label>Tarjeta <input type="color" id="colCard" value="#171a23"></label>
      <label>Acento <input type="color" id="colAccent" value="#8ec5ff"></label>
    </div>
    <div class="row" style="margin-top:6px">
      <label>Aprobado <input type="color" id="colOk" value="#22c55e"></label>
      <label>Disponible <input type="color" id="colWarn" value="#fbbf24"></label>
      <label>Bloqueado <input type="color" id="colLock" value="#ef4444"></label>
    </div>
    <div class="row" style="margin-top:8px">
      <button id="btnApplyColors">Aplicar colores</button>
      <button id="btnResetColors">Restaurar colores</button>
    </div>

    <div class="section-title" style="margin-top:14px">Información de la carrera</div>
    <input id="programName" type="text" placeholder="Nombre del programa" value="Comunicación y Marketing (UPC)" style="width:100%"/>
    <input id="programMeta" type="text" placeholder="Facultad, total créditos y notas" value="Facultad de Comunicaciones • 200 créditos • Rectificado 15/12/2024" style="width:100%;margin-top:6px"/>

    <div class="section-title" style="margin-top:14px">Configuración de promoción</div>
    <div class="row">
      <label>Año de ingreso <input type="number" id="cohortYear" value="2023"></label>
      <label>Regla créditos HU19 <span class="pill">≥ 41</span></label>
      <label>Regla créditos CM68 <span class="pill">≥ 100</span></label>
    </div>
    <small class="sub">Estas reglas se aplican como prerrequisitos con tokens <b>CREDITS&gt;=41</b> y <b>CREDITS&gt;=100</b>.</small>
  </div>

  <!-- Panel derecho con la malla -->
  <div class="panel">
    <div class="grid" id="grid"></div>
  </div>
</main>

<script>
// ================= CONFIGURACIÓN =================
const STATE = {
  totalCycles: 10,
  totalCredits: 200,
  approved: new Set(JSON.parse(localStorage.getItem('malla_upc_appr')||'[]')),
  colors: {
    bg: '#0b0c10', card: '#171a23', accent: '#8ec5ff', ok:'#22c55e', warn:'#fbbf24', lock:'#ef4444'
  },
  program: {
    name: 'Comunicación y Marketing (UPC)',
    meta: 'Facultad de Comunicaciones • 200 créditos • Rectificado 15/12/2024',
    cohortYear: 2023
  },
  // Regla de promoción (tokens de créditos que actúan como prerrequisito)
  rules: {credit41: 'CREDITS>=41', credit100: 'CREDITS>=100'}
};

// ================= DATA POR DEFECTO (UPC oficial del PDF) =================
const DEFAULT_DATA = {courses:[
  // Ciclo 1
  {id:'HU625',name:'Comprensión y Producción de Lenguaje I',cycle:1,credits:4,prereqs:[]},
  {id:'HU06', name:'Ecogeografía del Perú',cycle:1,credits:3,prereqs:[]},
  {id:'HU548',name:'Ética y Ciudadanía',cycle:1,credits:2,prereqs:[]},
  {id:'MA431',name:'Matemática Básica',cycle:1,credits:5,prereqs:[]},
  {id:'HU193',name:'Taller de Creatividad',cycle:1,credits:3,prereqs:[]},
  {id:'HU187',name:'Temas de Historia del Perú',cycle:1,credits:3,prereqs:[]},
  {id:'CO16', name:'Taller de Introducción a las Comunicaciones',cycle:1,credits:3,prereqs:[]},
  // Ciclo 2
  {id:'HU626',name:'Comprensión y Producción de Lenguaje II',cycle:2,credits:4,prereqs:['HU625']},
  {id:'HU66', name:'Globalización: Enfoque Cultural y Económico',cycle:2,credits:3,prereqs:['HU06']},
  {id:'HU317',name:'Seminario Integrado de Investigación Académica',cycle:2,credits:3,prereqs:['HU625']},
  {id:'HU15', name:'Antropología Social',cycle:2,credits:3,prereqs:[]},
  {id:'AF103',name:'Fundamentos de las Finanzas',cycle:2,credits:4,prereqs:[]},
  {id:'CM17',name:'Introducción al Marketing',cycle:2,credits:3,prereqs:[]},
  {id:'CO14',name:'Procesos Psicológicos',cycle:2,credits:3,prereqs:[]},
  // Ciclo 3
  {id:'CO19',name:'Introducción a los Medios Digitales',cycle:3,credits:2,prereqs:['CO16']},
  {id:'PU66',name:'Comportamiento del Consumidor',cycle:3,credits:3,prereqs:['CM17']},
  {id:'CM65',name:'Informática para el Marketing',cycle:3,credits:3,prereqs:['MA431']},
  {id:'CO13',name:'Taller de Técnicas de Expresión Escrita',cycle:3,credits:3,prereqs:['HU626']},
  {id:'ELECT1',name:'Electivo',cycle:3,credits:3,prereqs:[]},
  {id:'ELECT2',name:'Electivo',cycle:3,credits:3,prereqs:[]},
  // Ciclo 4
  {id:'CM28',name:'Costos y Presupuestos',cycle:4,credits:3,prereqs:['AF103']},
  {id:'MA470',name:'Estadística para Comunicadores',cycle:4,credits:4,prereqs:['CM65']},
  {id:'CM51',name:'Segmentación y Posicionamiento',cycle:4,credits:3,prereqs:['PU66','CM17']},
  {id:'HU19',name:'Sociología de la Comunicación',cycle:4,credits:3,prereqs:['CREDITS>=41']},
  {id:'CO22',name:'Taller de Diseño Gráfico 1',cycle:4,credits:3,prereqs:['CO19']},
  {id:'ELECT3',name:'Electivo',cycle:4,credits:3,prereqs:[]},
  {id:'ELECT4',name:'Electivo',cycle:4,credits:3,prereqs:[]},
  // Ciclo 5
  {id:'HU49',name:'Economía para la Gestión',cycle:5,credits:3,prereqs:['AF103']},
  {id:'CM29',name:'Canales de Distribución y Trade',cycle:5,credits:3,prereqs:['CM28','CM51']},
  {id:'IM02',name:'Estudios Cualitativos',cycle:5,credits:3,prereqs:['PU66','MA470']},
  {id:'CM66',name:'Marketing e Innovación de Producto',cycle:5,credits:3,prereqs:['CM28','CM51']},
  {id:'EF91',name:'Matemática Aplicada al Marketing',cycle:5,credits:3,prereqs:['CM28']},
  {id:'PU124',name:'Taller de Diseño Gráfico 2 (Publicidad)',cycle:5,credits:3,prereqs:['CO22']},
  // Ciclo 6
  {id:'CM00',name:'Branding',cycle:6,credits:3,prereqs:['CM66']},
  {id:'CM67',name:'Category Management & Sales',cycle:6,credits:3,prereqs:['CM29','CM66']},
  {id:'IM86',name:'Estudio y Análisis de Bases de Datos',cycle:6,credits:3,prereqs:['MA470','IM02']},
  {id:'CM31',name:'Gestión Empresarial',cycle:6,credits:3,prereqs:['EF91']},
  {id:'CM22',name:'Marketing de Precios',cycle:6,credits:3,prereqs:['CM29','CM66']},
  {id:'CM87',name:'Marketing Tools',cycle:6,credits:3,prereqs:['EF91']},
  {id:'ELECT5',name:'Electivo',cycle:6,credits:3,prereqs:[]},
  // Ciclo 7
  {id:'CM33',name:'Business Intelligence',cycle:7,credits:3,prereqs:['IM86','CM87']},
  {id:'CM68',name:'Digital Marketing & Customer Centric',cycle:7,credits:3,prereqs:['CREDITS>=100']},
  {id:'CO07',name:'Legislación en Comunicaciones',cycle:7,credits:3,prereqs:['CREDITS>=100']},
  {id:'CM83',name:'Marketing & Strategy',cycle:7,credits:3,prereqs:['CM87','CM67','IM86','CM22']},
  {id:'CM88',name:'Media Revenue Strategy',cycle:7,credits:3,prereqs:['CM00']},
  {id:'ELECT6',name:'Electivo',cycle:7,credits:3,prereqs:[]},
  // Ciclo 8
  {id:'CM36',name:'Campañas Publicitarias',cycle:8,credits:3,prereqs:['CM00','CM88']},
  {id:'PU33',name:'Comunicación y Desarrollo',cycle:8,credits:3,prereqs:['HU19']},
  {id:'CM70',name:'Digital Strategy & E-tools',cycle:8,credits:3,prereqs:['CM68']},
  {id:'CM84',name:'Marketing Metrics',cycle:8,credits:3,prereqs:['CM83','CM87']},
  {id:'CM03',name:'Marketing Relacional – CRM',cycle:8,credits:3,prereqs:['CM33']},
  {id:'CM58',name:'Seminario Avanzado de Investigación',cycle:8,credits:4,prereqs:['CM83']},
  {id:'ELECT7',name:'Electivo',cycle:8,credits:3,prereqs:[]},
  // Ciclo 9
  {id:'CM89',name:'Digital Project Design',cycle:9,credits:3,prereqs:['CM70']},
  {id:'CM79',name:'Diseño de Plan de Marketing',cycle:9,credits:3,prereqs:['CM84']},
  {id:'CM75',name:'Investigación Avanzada 1 en Marketing',cycle:9,credits:4,prereqs:['CM58']},
  {id:'CM37',name:'Marketing B2B',cycle:9,credits:3,prereqs:['CM33','CM83']},
  {id:'CM71',name:'Marketing e Innovación de Servicios',cycle:9,credits:3,prereqs:['CM84']},
  {id:'ELECT8',name:'Electivo',cycle:9,credits:3,prereqs:[]},
  // Ciclo 10
  {id:'CM74',name:'Investigación Avanzada 2 en Marketing',cycle:10,credits:3,prereqs:['CM75']},
  {id:'CO09',name:'Ética Profesional',cycle:10,credits:3,prereqs:['CO07']},
  {id:'CM85',name:'Marketing Decisions Making',cycle:10,credits:3,prereqs:['CM79']},
  {id:'IM77',name:'Responsabilidad y Sostenibilidad Ambiental',cycle:10,credits:3,prereqs:['PU33']},
  {id:'ELECT9',name:'Electivo',cycle:10,credits:3,prereqs:[]},
  {id:'ELECT10',name:'Electivo',cycle:10,credits:3,prereqs:[]},
]};

let COURSES = JSON.parse(JSON.stringify(DEFAULT_DATA.courses));

// ================= UTILIDADES =================
const qs = (s,p=document)=>p.querySelector(s);
function byId(id){ return COURSES.find(c=>c.id===id); }
function approvedCredits(){ return COURSES.reduce((a,c)=> a + (STATE.approved.has(c.id)? (c.credits||0):0), 0); }
function missingPrereqs(course){
  const miss=[]; const apc = approvedCredits();
  for(const p of (course.prereqs||[])){
    if(p.startsWith('CREDITS>=')){
      const need = parseInt(p.split('>=')[1],10); if(apc < need) miss.push(`Créditos aprobados ≥ ${need}`);
    } else if(!STATE.approved.has(p)) {
      miss.push(`${p} – ${(byId(p)?.name||p)}`);
    }
  } return miss;
}
function saveProgress(){ localStorage.setItem('malla_upc_appr', JSON.stringify([...STATE.approved])); }

// ================= RENDER =================
const grid = qs('#grid');
function render(){
  grid.innerHTML='';
  const filter = qs('#filter').value;
  for(let cyc=1; cyc<=STATE.totalCycles; cyc++){
    const col=document.createElement('div'); col.className='col';
    const header=`<h2><span>Ciclo ${cyc}</span><span>${COURSES.filter(c=>c.cycle===cyc).reduce((a,c)=>a+c.credits,0)} cr</span></h2>`;
    col.innerHTML = header + '<div class="list"></div>';
    const list = qs('.list', col);
    for(const c of COURSES.filter(c=>c.cycle===cyc).sort((a,b)=>a.name.localeCompare(b.name))){
      const miss = missingPrereqs(c);
      const st = STATE.approved.has(c.id) ? 'approved' : (miss.length? 'locked':'available');
      if(filter!=='all' && filter!==st) continue;
      const div=document.createElement('div'); div.className=`card ${st}`; div.dataset.id=c.id;
      div.innerHTML=`<div class="state ${st}">${st==='approved'?'Aprobado':st==='available'?'Disponible':'Bloqueado'}</div>
        <div class="course-title">${c.name}</div>
        <div class="course-code">${c.id} • ${c.credits||0} créditos</div>
        <div class="chips">${(c.prereqs||[]).length? c.prereqs.map(p=>`<span class='chip'>${p.replace('CREDITS>=','Créditos ≥ ')}</span>`).join('') : '<span class="chip">Sin requisitos</span>'}</div>
        <div class="tooltip">${miss.length? `<b>Faltan requisitos:</b><br>${miss.map(m=>'• '+m).join('<br>')}`:'Listo para cursar'}</div>`;
      div.addEventListener('click',()=>{
        if(st==='locked'){ div.classList.toggle('show-tip'); return; }
        if(STATE.approved.has(c.id)) STATE.approved.delete(c.id); else STATE.approved.add(c.id);
        saveProgress(); render();
      });
      div.addEventListener('mouseenter',()=>{ if(div.classList.contains('locked')) div.classList.add('show-tip'); });
      div.addEventListener('mouseleave',()=> div.classList.remove('show-tip'));
      list.appendChild(div);
    }
    grid.appendChild(col);
  }
  // stats
  let a=0,d=0,b=0; const apc = approvedCredits();
  for(const c of COURSES){ const miss=missingPrereqs(c); const st = STATE.approved.has(c.id)?'approved':(miss.length?'locked':'available'); if(st==='approved') a++; else if(st==='available') d++; else b++; }
  qs('#stA').textContent = `Aprobados: ${a}`;
  qs('#stD').textContent = `Disponibles: ${d}`;
  qs('#stB').textContent = `Bloqueados: ${b}`;
  qs('#stCr').textContent = apc;
  qs('#stCt').textContent = STATE.totalCredits;
  qs('#programInfoLabel').textContent = `${STATE.program.meta}`;
  document.title = `Malla – ${STATE.program.name}`;
}

// ================= MANEJO DE JSON (IMPORTAR/PEGAR) =================
function loadFromJSON(obj){
  if(!obj) return;
  if(Array.isArray(obj.courses)) COURSES = obj.courses.map(x=>({id:x.id,name:x.name,cycle:+x.cycle,credits:+x.credits,prereqs:x.prereqs||[]}));
  if(obj.totalCredits) STATE.totalCredits = +obj.totalCredits;
  if(obj.totalCycles) STATE.totalCycles = +obj.totalCycles;
  if(obj.program){ STATE.program = {...STATE.program, ...obj.program}; }
  if(obj.colors){ STATE.colors = {...STATE.colors, ...obj.colors}; applyColors(); }
  render();
}

qs('#btnLoadDefault').addEventListener('click',()=> loadFromJSON({courses:DEFAULT_DATA.courses,totalCredits:200,totalCycles:10}));
qs('#btnApplyJSON').addEventListener('click',()=>{
  try{ const obj = JSON.parse(qs('#jsonArea').value.trim()); loadFromJSON(obj); }catch(e){ alert('JSON inválido'); }
});
qs('#btnLoadJSON').addEventListener('click',()=> qs('#fileData').click());
qs('#fileData').addEventListener('change', ev=>{
  const f=ev.target.files[0]; if(!f) return; const r=new FileReader(); r.onload=()=>{ try{ loadFromJSON(JSON.parse(r.result)); }catch(e){ alert('Archivo JSON inválido'); } }; r.readAsText(f);
});

// ================= PROGRESO =================
qs('#btnExport').addEventListener('click',()=>{
  const payload = {approved:[...STATE.approved], snapshot:new Date().toISOString(), program:STATE.program};
  const blob = new Blob([JSON.stringify(payload,null,2)], {type:'application/json'});
  const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='progreso_malla.json'; a.click();
});
qs('#btnImport').addEventListener('click',()=> qs('#fileImport').click());
qs('#fileImport').addEventListener('change', ev=>{
  const f=ev.target.files[0]; if(!f) return; const r=new FileReader(); r.onload=()=>{ try{ const obj=JSON.parse(r.result); STATE.approved = new Set(obj.approved||[]); saveProgress(); render(); }catch(e){ alert('Archivo de progreso inválido'); } }; r.readAsText(f);
});
qs('#btnReset').addEventListener('click',()=>{ if(confirm('¿Reiniciar todos los estados?')){ STATE.approved.clear(); saveProgress(); render(); }});

// ================= COLORES =================
function applyColors(){
  document.documentElement.style.setProperty('--bg', STATE.colors.bg);
  document.documentElement.style.setProperty('--card', STATE.colors.card);
  document.documentElement.style.setProperty('--accent', STATE.colors.accent);
  document.documentElement.style.setProperty('--ok', STATE.colors.ok);
  document.documentElement.style.setProperty('--warn', STATE.colors.warn);
  document.documentElement.style.setProperty('--lock', STATE.colors.lock);
}
function readColorsFromInputs(){
  STATE.colors.bg = qs('#colBg').value; STATE.colors.card = qs('#colCard').value; STATE.colors.accent=qs('#colAccent').value;
  STATE.colors.ok = qs('#colOk').value; STATE.colors.warn = qs('#colWarn').value; STATE.colors.lock = qs('#colLock').value;
}
qs('#btnApplyColors').addEventListener('click',()=>{ readColorsFromInputs(); applyColors(); });
qs('#btnResetColors').addEventListener('click',()=>{
  STATE.colors={bg:'#0b0c10',card:'#171a23',accent:'#8ec5ff',ok:'#22c55e',warn:'#fbbf24',lock:'#ef4444'}; applyColors();
});

// ================= METADATOS / ESTRUCTURA =================
qs('#cfgCycles').addEventListener('change', e=>{ STATE.totalCycles=+e.target.value; render(); });
qs('#cfgTotalCredits').addEventListener('change', e=>{ STATE.totalCredits=+e.target.value; render(); });
qs('#programName').addEventListener('input', e=>{ STATE.program.name=e.target.value; document.title = `Malla – ${STATE.program.name}`; });
qs('#programMeta').addEventListener('input', e=>{ STATE.program.meta=e.target.value; qs('#programInfoLabel').textContent=STATE.program.meta; });
qs('#cohortYear').addEventListener('change', e=>{ STATE.program.cohortYear=+e.target.value; });
qs('#filter').addEventListener('change', render);

// Inicio
applyColors();
render();
</script>
</body>
</html>
